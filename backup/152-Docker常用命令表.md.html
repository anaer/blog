
  <article class="markdown-body">
    <h2 id="docker">Docker常用命令表</h2>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>docker run</td>
<td>运行一个容器</td>
<td>docker run ubuntu</td>
</tr>
<tr>
<td>docker ps</td>
<td>列出正在运行的容器</td>
<td>docker ps</td>
</tr>
<tr>
<td>docker images</td>
<td>查看本地镜像列表</td>
<td>docker images</td>
</tr>
<tr>
<td>docker pull</td>
<td>下载镜像</td>
<td>docker pull nginx</td>
</tr>
<tr>
<td>docker stop</td>
<td>停止容器</td>
<td>docker stop mycontainer</td>
</tr>
<tr>
<td>docker rm</td>
<td>删除容器</td>
<td>docker rm mycontainer</td>
</tr>
<tr>
<td>docker rmi</td>
<td>删除镜像</td>
<td>docker rmi nginx</td>
</tr>
<tr>
<td>docker build</td>
<td>构建镜像</td>
<td>docker build -t myimage .</td>
</tr>
<tr>
<td>docker exec</td>
<td>在容器中执行命令</td>
<td>docker exec mycontainer ls</td>
</tr>
<tr>
<td>docker logs</td>
<td>查看容器日志</td>
<td>docker logs mycontainer</td>
</tr>
<tr>
<td>docker inspect</td>
<td>查看详细信息</td>
<td>docker inspect mycontainer</td>
</tr>
<tr>
<td>docker cp</td>
<td>文件拷贝（容器与主机间）</td>
<td>docker cp mycontainer:/tmp/a.txt ./a.txt</td>
</tr>
<tr>
<td>docker stats</td>
<td>查看资源使用</td>
<td>docker stats mycontainer</td>
</tr>
<tr>
<td>docker attach</td>
<td>连接到正在运行的容器</td>
<td>docker attach mycontainer</td>
</tr>
<tr>
<td>docker top</td>
<td>查看容器进程</td>
<td>docker top mycontainer</td>
</tr>
<tr>
<td>docker commit</td>
<td>用容器生成新镜像</td>
<td>docker commit mycontainer newimage</td>
</tr>
<tr>
<td>docker system prune</td>
<td>清理无用资源</td>
<td>docker system prune</td>
</tr>
<tr>
<td>docker version</td>
<td>查看Docker版本</td>
<td>docker version</td>
</tr>
<tr>
<td>docker network ls</td>
<td>查看docker网络</td>
<td>docker network ls</td>
</tr>
<tr>
<td>docker network create</td>
<td>创建网络</td>
<td>docker network create mynet</td>
</tr>
<tr>
<td>docker network connect</td>
<td>容器加入网络</td>
<td>docker network connect mynet mycontainer</td>
</tr>
<tr>
<td>docker volume ls</td>
<td>查看所有卷</td>
<td>docker volume ls</td>
</tr>
<tr>
<td>docker volume create</td>
<td>创建卷</td>
<td>docker volume create datavol</td>
</tr>
<tr>
<td>docker volume rm</td>
<td>删除卷</td>
<td>docker volume rm datavol</td>
</tr>
<tr>
<td>docker-compose up</td>
<td>启动Compose项目</td>
<td>docker-compose up</td>
</tr>
<tr>
<td>docker-compose down</td>
<td>停止并移除Compose项目</td>
<td>docker-compose down</td>
</tr>
</tbody>
</table>
<h2 id="docker_1">Docker镜像</h2>
<p><a href="https://github.com/dongyubin/DockerHub">DockerHub国内镜像列表</a>  </p>
<p><a href="https://status.1panel.top/status/docker">国内 Docker 服务状态 &amp; 镜像加速监控</a>  </p>
<h2 id="docker_2">Docker镜像源检测</h2>
<div class="highlight"><div><button class="fold-btn">▲</button><button class="copy-btn"><svg width="18" height="18" viewBox="0 0 20 20" style="vertical-align:middle"><rect x="6" y="2" width="9" height="13" rx="2" fill="#555"/><rect x="3" y="5" width="9" height="13" rx="2" fill="#aaa"/></svg></button>
<pre><span></span><code><span class="ch">#!/bin/bash  </span>

<span class="c1"># 设置要检测的镜像源列表  </span>
<span class="nv">REGISTRIES</span><span class="o">=(</span><span class="w">  </span>
<span class="w">    </span><span class="s2">&quot;docker.io&quot;</span><span class="w">                       </span><span class="c1"># Docker 官方源  </span>
<span class="w">    </span><span class="s2">&quot;docker.1ms.run&quot;</span><span class="w">  </span>
<span class="w">    </span><span class="s2">&quot;docker.m.daocloud.io&quot;</span><span class="w">  </span>
<span class="w">    </span><span class="c1">#&quot;docker.ketches.cn&quot;  </span>
<span class="w">    </span><span class="c1">#&quot;hub1.nat.tf&quot;  </span>
<span class="w">    </span><span class="c1">#&quot;hub2.nat.tf&quot;  </span>
<span class="w">    </span><span class="c1">#&quot;registry.cn-hangzhou.aliyuncs.com&quot;  # 阿里云镜像源  </span>
<span class="w">    </span><span class="c1">#&quot;hub-mirror.c.163.com&quot;              # 网易云镜像源  </span>
<span class="w">    </span><span class="c1">#&quot;mirror.huaweicloud.com&quot;            # 华为云镜像源  </span>
<span class="w">    </span><span class="c1">#&quot;registry.docker-cn.com&quot;            # Docker 官方中国镜像  </span>
<span class="o">)</span><span class="w">  </span>

<span class="c1"># 检测镜像源是否可用  </span>
<span class="k">function</span><span class="w"> </span>check_registry<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w">  </span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">registry</span><span class="o">=</span><span class="nv">$1</span><span class="w">  </span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;正在检测镜像源: </span><span class="si">${</span><span class="nv">registry</span><span class="si">}</span><span class="s2"> ...&quot;</span><span class="w">  </span>

<span class="w">    </span><span class="c1"># 使用 docker pull 拉取一个小镜像（如 hello-world）来检测源的可用性  </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">registry</span><span class="si">}</span><span class="s2">/hello-world&quot;</span><span class="w"> </span><span class="p">&amp;</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w">  </span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;镜像源 </span><span class="si">${</span><span class="nv">registry</span><span class="si">}</span><span class="s2"> 可用&quot;</span><span class="w">  </span>
<span class="w">    </span><span class="k">else</span><span class="w">  </span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;镜像源 </span><span class="si">${</span><span class="nv">registry</span><span class="si">}</span><span class="s2"> 不可用&quot;</span><span class="w">  </span>
<span class="w">    </span><span class="k">fi</span><span class="w">  </span>
<span class="o">}</span><span class="w">  </span>

<span class="c1"># 批量检测多个镜像源  </span>
<span class="k">function</span><span class="w"> </span>check_all_registries<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w">  </span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span>registry<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">REGISTRIES</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w">  </span>
<span class="w">        </span>check_registry<span class="w"> </span><span class="nv">$registry</span><span class="w">  </span>
<span class="w">    </span><span class="k">done</span><span class="w">  </span>
<span class="o">}</span><span class="w">  </span>

<span class="c1"># 执行批量检测  </span>
check_all_registries<span class="w">  </span>
</code></pre></div></div>
  </article>
  
<style>
.fold-btn, .copy-btn {
  border: none;
  background: transparent;
  cursor: pointer;
  padding: 2px 6px;
  margin-right: 4px;
  font-size: 16px;
  outline: none;
  box-shadow: none;
  transition: background 0.2s;
}
.fold-btn:hover, .copy-btn:hover {
  background: #eee;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // 复制功能
  document.querySelectorAll('.copy-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const code = btn.nextElementSibling.querySelector('code').innerText;
      navigator.clipboard.writeText(code).then(() => {
        // 切换为已复制图标
        btn.innerHTML = '<svg width="18" height="18" viewBox="0 0 20 20" style="vertical-align:middle"><path fill="green" d="M7.629 15.314l-4.243-4.243 1.414-1.414 2.829 2.828 6.364-6.364 1.414 1.414z"/></svg>';
        setTimeout(() => {
          // 恢复为复制图标
          btn.innerHTML = '<svg width="18" height="18" viewBox="0 0 20 20" style="vertical-align:middle"><rect x="6" y="2" width="9" height="13" rx="2" fill="#555"/><rect x="3" y="5" width="9" height="13" rx="2" fill="#aaa"/></svg>';
        }, 1500);
      });
    });
  });

  // 折叠功能
  document.addEventListener('click', e => {
    if (e.target.classList.contains('fold-btn')) {
      const pre = e.target.parentElement.querySelector('pre');
      const collapsed = pre.style.display === 'none';
      pre.style.display = collapsed ? 'block' : 'none';
      e.target.textContent = collapsed ? '▲' : '▼';
    }
  });
});
</script>

