
# 1. [dify 1.4.2](https://github.com/langgenius/dify/releases/tag/1.4.2)  
Production-ready platform for agentic workflow development.
<details>
<summary>ÂèòÊõ¥ËØ¥Êòé</summary>

## üöÄ What's New in v1.4.2?

We've packed v1.4.2 with usability upgrades, polished features, and stability enhancements. Check out what's new:

### üåü New Features & Improvements

- **Smarter Webapp Inputs**: Automatically fill hidden fields using URL parameters , 
  
- **Efficient Document Extraction**: Faster, streamlined processing for Excel and CSV files , thanks to 
  
- **Marketplace UI Update**: Easier browsing with improved sorting for app types , courtesy of 

- **Personalized Chatbot UX**: Chat input placeholder now dynamically displays your bot's name , thanks to 

- **Robust File Uploads**: Addressed issues with multiple file extension mappings , 

- **Advanced Knowledge Base API Features**:
  - Refined metadata filtering for precise querying. Targeted searches using chunk IDs , 
  - Improved tagging and dataset binding capabilities , thanks to 

- **Weave Tracing & W&B Integration**: Enhanced support for dedicated cloud instances for better operations monitoring , from 

### üîí Security Updates

- **Flask-Cors Upgrade**: Enhanced security by updating to the latest Flask-Cors version , 

### üêõ Bug Fixes

- **Resolved 401 Errors**:
  - Smooth parallel workflow execution .
  - Fixed authentication issues in `workflow_as_tool` .
  - Eliminated backward invoke errors .
  All thanks to 

- **Agent Node Refinements**:
  - Corrected enum syntax for Python 3.11 , 
  - Improved handling of long tokens in LLM invocation , 

- **Annotation API Fix**: Restored the missing `end_user` argument , courtesy of 

- **Docker Environment Corrections**: Fixed erroneous handling of environment variables , 

- **Code Node & Trace Management**:
  - Enhanced array validation in code nodes , 
  - `app_id` now included in TraceTasks for better management , thanks to 

- **HTTP Node Reliability**: Corrected curl operations using `--data` , 

- **Memory Leak Prevention**: Fixed Celery worker leaks ensuring jobs close correctly , 

- **Improved Housekeeping Command**: Now preserves avatar images and app icons correctly , thanks to 

- **Email Invitation Fixes**: SMTP authentication errors resolved , 

- **Consistent App Tagging**: Resolved app tag update issues , 

- **Markdown Rendering Fixes**: Ensured abbreviations display properly in react-markdown , 

- **LLM Node Image Parsing**: Improved reliability for single-step executions with images , 

- **Restored Agent Moderation**: Functionality fully restored , 

- **Plugin Extension Performance**: Restored responsiveness and speed , 

- **Question Classifier Stability**: Executions now error-free , thanks to 

- **Enhanced Web UX**: Single-run modals now auto-dismiss for better usability , 

Enjoy these improvements and a smoother, more stable experience! üöÄ

---

## Upgrade Guide

### Docker Compose Deployments

1. Back up your customized docker-compose YAML file (optional)

   ```bash
   cd docker
   cp docker-compose.yaml docker-compose.yaml.$(date +%s).bak
   ```

2. Get the latest code from the main branch

   ```bash
   git checkout main
   git pull origin main
   ```

3. Stop the service. Please execute in the docker directory

   ```bash
   docker compose down
   ```

4. Back up data

   ```bash
   tar -cvf volumes-$(date +%s).tgz volumes
   ```

5. Upgrade services

   ```bash
   docker compose up -d
   ```

### Source Code Deployments

1. Stop the API server, Worker, and Web frontend Server.

2. Get the latest code from the release branch:

   ```bash
   git checkout 1.4.2
   ```

3. Update Python dependencies:

   ```bash
   cd api
   uv sync
   ```

7. Then, let's run the migration script:

   ```bash
   uv run flask db upgrade
   ```

8. Finally, run the API server, Worker, and Web frontend Server again.

---

## What's Changed
* update img  
* Chore/update img  
* chore: enchance the copywriting of tool  
* fix: i18n auto run failed  
* fix: Enhances tenant ID handling in telemetry  
* [Observability] Add type check and try-except in otel  
* fix(workflow): fetch user failed when workflow run in parallel mode  
* fix: Instance <Account> is not bound to a Session  
* fix: reset password page dark style  
* Fixes some i18n(ko) translations.  
* fix(http): force multipart/form-data even without files  
* fix: workflow plugins list update  
* feat(agent_node): ensure that the enum-checking syntax is compatible with Python‚ÄØ3.11.  
* fix: register user model to current_user in backward invoke.  
* Fix/branding broken  
* fix: inner invoke llm token too long  
* chore: remove agent turn limits  
* docs: Update PR template to emphasize guidelines and issue linking  
* fix: show 'reset brand' button after set branding image  
* fix: apps/annotation missing 1 required positional argument: 'end_user'  
* fix: wrong env usage in middleware  
* chore: improve error logging for requests to plugin daemon  
* fix: handle values in output arrays for CodeNode transformation  
* tests: Removes outdated marketplace download test  
* refactor: Remove db from cycle manager  
* refactor(workflow): Rename NodeRunMetadataKey to WorkflowNodeExecutionMetadataKey  
* refactor(workflow): Rename workflow node execution models  
* fix(models): WorkflowRun's total_steps and exceptions_count mismatch with database  
* fix(ops_trace_manager): Adds app_id to TraceTask initialization  
* chore: Colorize new OpenAI LLM versions  
* Feat/15534 support replacing the bot in chat input placeholder with the bots name  
* fix: import from curl not work for --data  
* chore: translate i18n files  
* refactor(api/core/workflow/enums): Rename WORKFLOW_RUN_ID to WORKFLOW_EXECUTION_ID  
* fix: some display error in dark mode  
* Refactor/markdown component split  
* fix(json-schema-editor): Add container reference for resize observer in CodeEditor; Update language hook and help doc URL in JsonSchemaConfig  
* fix: drop some type fixme  
* Refactor/message cycle manage and knowledge retrieval  
* fix celery job not closed issue  
* Improve CONVERSATION_TITLE_PROMPT to correctly handle Japanese and input  
* update knowledge base api  
* Add APIs for Knowledge Base Tag Management and Dataset Binding  
* fix: resolve unstable scrolling in workflow debug panel with multiple input fields   
* fix: agent app tool update  
* Amend color typo  
* fix: fetch tenant_id in other trace providers besides langfuse  
* fix: the plugin order is not the same as passed to api in DSL  
* fix(housekeeping): exclude files that are used as app icons or avatar images from being removed  
* nacos config init , and force add ts parms.  
* fix ts5097  
* check zilliz cloud of full-text search  
* Fixes : Allow $ref in parameter for custom tools  
* Fix : Force header in custom tool be string  
* fix: ensure proper conversation role alternation for vLLM   
* fix:  When elasticsearch is used as the vector database, the Retrieval Test fails to filter the data after setting the Score Threshold, and the score of the recalled results is empty  
* Fix/dark theme style issues  
* fix: agent thought replaced by response text  
* chore: update pnpm version to 10.11.1   
* refactor: Replaces direct DB session usage with context managers  
* fix: Upgrade Flask-Cors  
* refactor: Removes unused LLMMode value_of method  
* fix: Ensure model config integrity in retrieval processes  
* fixes   
* ‚ôªÔ∏è refactor(middleware): remove duplicate CSP header assignment  
* chore: prepare the plugin daemon base url to yarl URL ahead intstead of in every invocation  
* Revert "‚ôªÔ∏è refactor(middleware): remove duplicate CSP header assignment"  
* fix: variable aggregator with group and file raise exception  
* fix: ensure newlines around think tags for proper markdown rendering  
* refactor: Removes tenant ID check from rate limit logic  
* fix: unable to upload custom file in case of incorrect inffered by multiple extensions mapped from mime type with filename extension hints  
* fix: adjust sticky header properties in Container component  
* fix: update app tag error  
* fix: autocorrect everything in web  
* raise error when process_rule is required but missing  
* chore: fix some security issues in markdown  
* fix: plugin update redcorner mark display incorrect  
* chore: ensure web code consistency by applying `pnpm fix`  
* feat: plugin storage support volcengine tos  
* fix(markdown): Ensure abbr: links render correctly in react-markdown v9+  
* Feat/queue monitor  
* refactor: Improve model status handling and structured output  
* feat: allow fill inputs from url params  
* assign dataset indexing_technique to args if not explicitly provided  
* fix(llm_node): update file variable mapping to use vision configs  
* Fix 500 error  
* Fix/webapp access scope  
* fix: the locale format  
* Update template.zh.mdx-fix document update metadata body param  
* Add vscode debugger  
* chore: translate i18n files  
* fix: update text_to_audio method to send data as JSON  
* fix: agent moderation not working  
* A more concise and effective extractor for excel and csv files  
* Fix: style of radio checked  
* feat: reorder app types  
* Fix builtin_providers for tools.  
* fix: opensearch fulltext search with metadata filtering dsl error  
* fix(inner_api/plugin/wraps): refresh user model after creation in get user function  
* chore: bump uv to 0.7.x  
* fix: opensearch metadata filtering returns empty  
* chore: remove repeat public api and service api panel  
* chore: replace pseudo-random generators with secrets module  
* feat: add browser list  
* chore: chart panel ui enhance  
* fix: opensearch vector search falls back to keyword search  
* fix: missing bot name in orchestrate  
* feat(api): Adjust `WorkflowDraftVariable` and `WorkflowNodeExecutionModel`  
* Add support for W&B dedicated cloud instances in Weave tracing integration  
* fix: clean up two unreachable code  
* Fix/webapp no permission page  
* fix: some dark mode display incorrect  
* Feat/webapp verified sso main  
* refactor(DSL imports): using organization/name/version to fetch DSL dependencies.   
* fix(api): Resolve error encountered when executing `QuestionClassifieNode`  
* refactor(api): Decouple `ParameterExtractorNode` from `LLMNode`  
* fix(web): optimize prompt change logic for LLM nodes   
* fix auto metadata filter  
* chore: update plugin publish link text  
* chore: bump mypy to 1.16  
* fix: only enterprise version request app access mode  
* refactor: replace compact response generation with length-prefixed response for backwards invocation api  
* chore(package): Bump version to 1.4.2  

## New Contributors
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 

**Full Changelog**:   

</details>

# 2. [higress v2.1.4](https://github.com/alibaba/higress/releases/tag/v2.1.4)  
ü§ñ AI Gateway AI Native API Gateway
<details>
<summary>ÂèòÊõ¥ËØ¥Êòé</summary>

## What's Changed
* feat(ai-proxy): support Amazon Bedrock Image Generation  
* fix: Fix the incorrect rewrite config generated for Nacos 3 MCP Servers  
* feat: update translate-readme action  
* fix: Remove the Authorization request header when using AI-proxy to proxy Gemini  
* fix : fix issue   
* Add test translation workflow  
* mcp server support API auth through OAS3 `security schemes`  
* Fix : add fail strategy for wasmplugin generated by mcp server  
* fix: modify log level WARN -> DEBUG in key-auth plugin  
* fix proxy-wasm-cpp-sdk  
* feat: Supports recording request header, request body, response header and response body information in the access log  
* feat(mcp-server): add HackMD mcp server  
* add mcp service  shebao tools  
* feat: Add a github action to copy CRD definitions from api folder to helm folder  
* feat:  allow skipping higress dev image build during wasmplugin e2e tests  
* feat: Refactor mcpServer.matchList config generation logic  
* add info log of ai-search plugin  
* fix(ai-proxy): URL encode model name in Bedrock requests  
* feat(ai-proxy): add doubao Image Generation support  
* feat: cluster-key-rate-limit support setting global rate limit thresholds for routes‚Äã  
* feat(ai-proxy): support OpenAI-compatible image and audio model Mapping  
* fix: set "EnableSemanticCachefalse" to false when no vector configured in ai-cache  
* feat(ai-proxy): add batches & files support  
* feat: support dify ai-proxy e2e test || feat: support diify ai-proxy e2e test  
* fix content-length header not remove in ai-search plugin  
* feat(ai-proxy): add modelMapping regexp support  
* feat(ai-proxy): Fixed the issue that the API pass-through path error does not support openaiCustomUrl after openai is configured.  
* feat(frontend-gray): Add uniqueGrayTag configuration detection  
* feat(ai-proxy): add models & image generation support for gemini  
* feat(ai-proxy): support Google Cloud Vertex  
* add upstream override wasm abi  
* feat(ai-proxy): Add Claude image understanding and Tools calling capabilities  
* fix: refactored mcp server auto discovery logic and fix some issue  
* fix : fix credential process logic for nacos mcp util and add ut for it  
* fix: Support mixing line breaks in a single SSE response  
* Update CRD file in the helm folder  

## New Contributors
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 
*  made their first contribution in 

**Full Changelog**:   

</details>

