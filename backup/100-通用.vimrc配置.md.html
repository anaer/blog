
  <article class="markdown-body">
    <h2 id="vimrc">通用.vimrc配置</h2>
<p>主要用来解决服务器上vim中文乱码, 以及tab转空格问题  </p>
<div class="highlight"><div><button class="fold-btn">▲</button><button class="copy-btn"><svg width="18" height="18" viewBox="0 0 20 20" style="vertical-align:middle"><rect x="6" y="2" width="9" height="13" rx="2" fill="#555"/><rect x="3" y="5" width="9" height="13" rx="2" fill="#aaa"/></svg></button>
<pre><span></span><code>&quot; 基本设置  
set nocompatible              &quot; 关闭 Vi 兼容模式，使用 Vim 增强功能  
filetype on                   &quot; 启用文件类型检测  
filetype plugin on            &quot; 启用文件类型插件  
filetype indent on            &quot; 启用文件类型缩进  
syn on                        &quot; 开启语法高亮功能  

&quot; 编码设置（支持中文）  
set encoding=utf-8            &quot; Vim 内部使用 UTF-8  
set fileencoding=utf-8        &quot; 默认保存为 UTF-8  
set fileencodings=utf-8,gbk,gb2312,cp936  &quot; 自动识别编码  
set termencoding=utf-8        &quot; 终端编码  

&quot; Tab 和缩进设置  
set tabstop=4                 &quot; Tab 显示为 4 个空格宽度  
set shiftwidth=4              &quot; 自动缩进宽度为 4 个空格  
set expandtab                 &quot; 将 Tab 转换为空格  
set smarttab                  &quot; 根据 shiftwidth 插入空格  
set softtabstop=4             &quot; 按 Tab 键时插入 4 个空格  
set autoindent                &quot; 自动缩进  
set smartindent               &quot; 智能缩进  

&quot; 显示设置  
set number                    &quot; 显示行号  
&quot; set relativenumber            &quot; 显示相对行号  
&quot; set cursorline                &quot; 高亮当前行  
set showcmd                   &quot; 显示输入的命令  
set ruler                     &quot; 显示光标位置  
set wrap                      &quot; 自动换行  
set linebreak                 &quot; 在单词边界换行  

&quot; 搜索设置  
set hlsearch                  &quot; 高亮搜索结果  
set incsearch                 &quot; 增量搜索  
set ignorecase                &quot; 搜索时忽略大小写  
set smartcase                 &quot; 智能大小写（配合 ignorecase）  

&quot; 其他实用设置  
set backspace=indent,eol,start &quot; 允许退格键删除缩进、换行符等  
set wildmenu                  &quot; 命令补全增强 按TAB键时命令行自动补全  
&quot; set mouse=a                   &quot; 启用鼠标支持  
set clipboard=unnamedplus     &quot; 使用系统剪贴板（需 Vim 支持 +clipboard）  

&quot; 键映射  
nnoremap &lt;Tab&gt; &gt;&gt;             &quot; Normal 模式下 Tab 增加缩进  
nnoremap &lt;S-Tab&gt; &lt;&lt;           &quot; Normal 模式下 Shift+Tab 减少缩进  
inoremap &lt;S-Tab&gt; &lt;C-d&gt;        &quot; Insert 模式下 Shift+Tab 减少缩进  

map &lt;silent&gt; &lt;C-A&gt; gg v G $   &quot; Ctrl+A 选中所有内容  

&quot; 取消高亮搜索结果  
nnoremap &lt;leader&gt;/ :nohlsearch&lt;CR&gt;  

&quot; 默认 leader 键是 &#39;\&#39;, 可根据需要调整  
let mapleader = &quot;,&quot;           &quot; 将 leader 键改为 &#39;,&#39;  

&quot; 保存和退出  
nnoremap &lt;leader&gt;w :w&lt;CR&gt;     &quot; 快速保存  
nnoremap &lt;leader&gt;q :q&lt;CR&gt;     &quot; 快速退出  
</code></pre></div></div>
  </article>
  
<style>
.fold-btn, .copy-btn {
  border: none;
  background: transparent;
  cursor: pointer;
  padding: 2px 6px;
  margin-right: 4px;
  font-size: 16px;
  outline: none;
  box-shadow: none;
  transition: background 0.2s;
}
.fold-btn:hover, .copy-btn:hover {
  background: #eee;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // 复制功能
  document.querySelectorAll('.copy-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const code = btn.nextElementSibling.querySelector('code').innerText;
      navigator.clipboard.writeText(code).then(() => {
        // 切换为已复制图标
        btn.innerHTML = '<svg width="18" height="18" viewBox="0 0 20 20" style="vertical-align:middle"><path fill="green" d="M7.629 15.314l-4.243-4.243 1.414-1.414 2.829 2.828 6.364-6.364 1.414 1.414z"/></svg>';
        setTimeout(() => {
          // 恢复为复制图标
          btn.innerHTML = '<svg width="18" height="18" viewBox="0 0 20 20" style="vertical-align:middle"><rect x="6" y="2" width="9" height="13" rx="2" fill="#555"/><rect x="3" y="5" width="9" height="13" rx="2" fill="#aaa"/></svg>';
        }, 1500);
      });
    });
  });

  // 折叠功能
  document.addEventListener('click', e => {
    if (e.target.classList.contains('fold-btn')) {
      const pre = e.target.parentElement.querySelector('pre');
      const collapsed = pre.style.display === 'none';
      pre.style.display = collapsed ? 'block' : 'none';
      e.target.textContent = collapsed ? '▲' : '▼';
    }
  });
});
</script>

