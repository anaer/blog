<div class="markdown-heading"><h2 class="heading-element">使用PyYAML</h2><a id="user-content-使用pyyaml" class="anchor" aria-label="Permalink: 使用PyYAML" href="#使用pyyaml"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-python"><pre><span class="pl-c"># pip install pyyaml</span>
<span class="pl-k">import</span> <span class="pl-s1">yaml</span>

<span class="pl-k">def</span> <span class="pl-en">extract_metadata</span>(<span class="pl-s1">file_path</span>):
    <span class="pl-k">with</span> <span class="pl-en">open</span>(<span class="pl-s1">file_path</span>, <span class="pl-s">'r'</span>, <span class="pl-s1">encoding</span><span class="pl-c1">=</span><span class="pl-s">'utf-8'</span>) <span class="pl-k">as</span> <span class="pl-s1">f</span>:
        <span class="pl-s1">content</span> <span class="pl-c1">=</span> <span class="pl-s1">f</span>.<span class="pl-c1">read</span>()

    <span class="pl-c"># 检查是否有 YAML Front Matter</span>
    <span class="pl-k">if</span> <span class="pl-s1">content</span>.<span class="pl-c1">startswith</span>(<span class="pl-s">'---'</span>):
        <span class="pl-s1">parts</span> <span class="pl-c1">=</span> <span class="pl-s1">content</span>.<span class="pl-c1">split</span>(<span class="pl-s">'---'</span>, <span class="pl-c1">2</span>)  <span class="pl-c"># 分割 YAML 部分</span>
        <span class="pl-k">if</span> <span class="pl-en">len</span>(<span class="pl-s1">parts</span>) <span class="pl-c1">&gt;</span> <span class="pl-c1">1</span>:
            <span class="pl-s1">yaml_content</span> <span class="pl-c1">=</span> <span class="pl-s1">parts</span>[<span class="pl-c1">1</span>]
            <span class="pl-s1">metadata</span> <span class="pl-c1">=</span> <span class="pl-s1">yaml</span>.<span class="pl-c1">safe_load</span>(<span class="pl-s1">yaml_content</span>)  <span class="pl-c"># 解析 YAML</span>
            <span class="pl-k">return</span> <span class="pl-s1">metadata</span>
    <span class="pl-k">return</span> {}

<span class="pl-c"># 示例：读取 Markdown 文件元数据</span>
<span class="pl-s1">metadata</span> <span class="pl-c1">=</span> <span class="pl-en">extract_metadata</span>(<span class="pl-s">'README.md'</span>)
<span class="pl-en">print</span>(<span class="pl-s1">metadata</span>)</pre></div>
<div class="markdown-heading"><h2 class="heading-element">使用frontmatter解析</h2><a id="user-content-使用frontmatter解析" class="anchor" aria-label="Permalink: 使用frontmatter解析" href="#使用frontmatter解析"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-python"><pre><span class="pl-c"># pip install python-frontmatter</span>
<span class="pl-k">import</span> <span class="pl-s1">frontmatter</span>

<span class="pl-k">def</span> <span class="pl-en">extract_metadata_with_frontmatter</span>(<span class="pl-s1">file_path</span>):
    <span class="pl-k">with</span> <span class="pl-en">open</span>(<span class="pl-s1">file_path</span>, <span class="pl-s">'r'</span>, <span class="pl-s1">encoding</span><span class="pl-c1">=</span><span class="pl-s">'utf-8'</span>) <span class="pl-k">as</span> <span class="pl-s1">f</span>:
        <span class="pl-s1">post</span> <span class="pl-c1">=</span> <span class="pl-s1">frontmatter</span>.<span class="pl-c1">load</span>(<span class="pl-s1">f</span>)  <span class="pl-c"># 解析 Markdown 文件</span>
    <span class="pl-k">return</span> <span class="pl-s1">post</span>.<span class="pl-c1">metadata</span>

<span class="pl-c"># 示例：读取 Markdown 文件元数据</span>
<span class="pl-s1">metadata</span> <span class="pl-c1">=</span> <span class="pl-en">extract_metadata_with_frontmatter</span>(<span class="pl-s">'README.md'</span>)
<span class="pl-en">print</span>(<span class="pl-s1">metadata</span>)</pre></div>
