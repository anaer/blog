
# 1. [bili-hardcore v0.5.1](https://github.com/Karben233/bili-hardcore/releases/tag/v0.5.1)  
bilibili 硬核会员 AI 自动答题脚本，直接调用 B 站 API，非 OCR 实现

API请求报错后自动重试的实现方案：

1. 核心机制
- 通过捕获异常触发重试逻辑
- 设置最大重试次数（通常3-5次）
- 采用指数退避策略（每次重试间隔时间递增）

2. 关键实现步骤
1) 定义重试条件：
   - 网络异常（连接超时、响应超时）
   - 服务端5xx错误
   - 特定业务错误码

2) 实现重试策略：
   - 固定间隔（简单但可能加剧服务压力）
   - 随机间隔（避免惊群效应）
   - 指数退避（推荐方案）

3) 终止条件：
   - 达到最大重试次数
   - 遇到不可重试错误（如4xx错误）
   - 收到成功响应

3. 注意事项
- 幂等性处理：确保重试不会产生副作用
- 重试日志记录：便于问题排查
- 熔断机制：避免持续重试导致系统雪崩
- 上下文传递：保持请求上下文的一致性

典型实现方式包括使用现成库（如Retry4j、Spring Retry）或自行封装重试逻辑。

